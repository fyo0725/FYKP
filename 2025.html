<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é«˜è¡€å‹å¥åº·ç§‘æ™®å¹³å°</title>
    <style>
         /* å…¨å±€æ ·å¼é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif;
        }

        /* åŸºç¡€æ ·å¼ */
        body {
            line-height: 1.8;
            color: #333;
            background-color: #f5f8ff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* å¤´éƒ¨æ ·å¼ */
        header {
            background: linear-gradient(135deg, #1e88e5, #0d47a1);
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
            position: relative;
            z-index: 10;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 26px;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .logo::before {
            content: "ğŸ©º";
            margin-right: 10px;
            font-size: 28px;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 30px;
        }

        nav ul li a {
            color: white;
            text-decoration: none;
            font-size: 16px;
            transition: all 0.3s ease;
            padding: 5px 0;
            position: relative;
        }

        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: #bbdefb;
            transition: width 0.3s ease;
        }

        nav ul li a:hover {
            color: #bbdefb;
        }

        nav ul li a:hover::after {
            width: 100%;
        }

        /* è‹±é›„åŒºæ ·å¼ï¼ˆæ ¸å¿ƒä¿®æ”¹ï¼šèƒŒæ™¯å›¾æ›¿æ¢ï¼‰ */
        .hero {
            background: url('https://ts1.tc.mm.bing.net/th/id/R-C.044cc2d292d41d60ebbcb2c636b67f0e?rik=%2boW9tI6dUCXNSw&riu=http%3a%2f%2fk.sinaimg.cn%2fn%2fsinakd20200718ac%2f263%2fw640h423%2f20200718%2ffc65-iwpcxkr9579883.jpg%2fw700d1q75cms.jpg&ehk=n3SOjfK%2boFaS6rEVzZfJxSTwqdGZwRqzLU1VEWDO85Q%3d&risl=&pid=ImgRaw&r=0') no-repeat center center/cover;
            height: 450px;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, rgba(0,0,0,0.7), rgba(0,0,0,0.4));
        }

        .hero-content {
            position: relative;
            z-index: 1;
            color: white;
            max-width: 650px;
            padding-left: 20px;
        }

        .hero h1 {
            font-size: 42px;
            margin-bottom: 25px;
            line-height: 1.3;
        }

        .hero p {
            font-size: 19px;
            margin-bottom: 35px;
            opacity: 0.95;
        }

        .btn {
            display: inline-block;
            padding: 14px 28px;
            background: #1e88e5;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 17px;
            box-shadow: 0 4px 12px rgba(30, 136, 229, 0.3);
        }

        .btn:hover {
            background: #1565c0;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(30, 136, 229, 0.4);
        }

        /* ä¸»è¦å†…å®¹åŒºæ ·å¼ */
        main {
            padding: 80px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 60px;
            color: #0d47a1;
            font-size: 34px;
            position: relative;
            font-weight: 600;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, #1e88e5, #0d47a1);
            margin: 20px auto;
            border-radius: 2px;
        }

        .section-subtitle {
            text-align: center;
            color: #666;
            font-size: 18px;
            margin-bottom: 50px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        /* ç§‘æ™®çŸ¥è¯†åŒºåŸŸ */
        .knowledge {
            background: white;
            padding: 60px 40px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            margin-bottom: 80px;
            position: relative;
            overflow: hidden;
        }

        .knowledge::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background: linear-gradient(90deg, #1e88e5, #42a5f5);
        }

        .knowledge-content {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            margin-top: 20px;
        }

        .knowledge-card {
            padding: 30px 25px;
            border-radius: 12px;
            background: #f9fbff;
            transition: all 0.4s ease;
            border: 1px solid #e8f0fe;
            position: relative;
            overflow: hidden;
        }

        .knowledge-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: #1e88e5;
            transition: width 0.3s ease;
        }

        .knowledge-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(30, 136, 229, 0.1);
            border-color: #d1e7fe;
        }

        .knowledge-card:hover::before {
            width: 8px;
        }

        .card-icon {
            font-size: 36px;
            margin-bottom: 20px;
            color: #1e88e5;
            transition: transform 0.3s ease;
        }

        .knowledge-card:hover .card-icon {
            transform: scale(1.1);
        }

        .knowledge-card h3 {
            color: #0d47a1;
            margin-bottom: 18px;
            font-size: 22px;
            font-weight: 600;
            line-height: 1.4;
        }

        .knowledge-card p {
            color: #555;
            font-size: 16px;
            line-height: 1.7;
            margin-bottom: 15px;
        }

        .card-list {
            padding-left: 20px;
            margin-top: 10px;
        }

        .card-list li {
            color: #666;
            font-size: 15px;
            margin-bottom: 8px;
            line-height: 1.6;
        }

        .card-list li::marker {
            color: #42a5f5;
            font-size: 18px;
        }



        /* è‡ªæµ‹å·¥å…·åŒºåŸŸ */
        .self-test {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 60px;
        }

        .test-form {
            max-width: 800px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #0d47a1;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            transition: border 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #1e88e5;
            box-shadow: 0 0 0 3px rgba(30, 136, 229, 0.2);
        }

        .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 10px;
        }

        .radio-item {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .radio-item input {
            margin-right: 8px;
            cursor: pointer;
        }

        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            width: calc(50% - 10px);
            cursor: pointer;
        }

        .checkbox-item input {
            margin-right: 8px;
            cursor: pointer;
        }

        .form-actions {
            text-align: center;
            margin-top: 30px;
        }

        /* è¡€å‹æµ‹é‡æŒ‡å¯¼å¼¹çª— */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-content .close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #666;
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
        }

        .modal-content .close:hover {
            color: #d32f2f;
        }

        .guide-step {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .guide-step:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .guide-step h4 {
            color: #1e88e5;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .guide-step h4::before {
            content: attr(data-step);
            display: inline-block;
            width: 24px;
            height: 24px;
            background: #1e88e5;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            margin-right: 10px;
            font-size: 14px;
        }

        /* è¡€å‹è¾“å…¥é€‰é¡¹å¡ */
        .tab-container {
            margin-bottom: 20px;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
            align-items: center;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            font-weight: bold;
            color: #666;
            transition: all 0.3s ease;
        }

        .tab.active {
            border-bottom-color: #1e88e5;
            color: #0d47a1;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .hint-text {
            color: #666;
            font-size: 14px;
            margin-top: 5px;
            line-height: 1.5;
        }

        .estimate-note {
            background: #fff8e1;
            padding: 10px 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-size: 14px;
            color: #ff8f00;
            border-left: 3px solid #ffb74d;
        }

        /* ç»“æœå±•ç¤ºåŒºåŸŸ */
        .result {
            display: none;
            margin-top: 30px;
            padding: 20px;
            border-radius: 8px;
            background: #f5f9ff;
            border: 1px solid #1e88e5;
        }

        .result h3 {
            color: #0d47a1;
            margin-bottom: 15px;
        }

        .health-status, .development-trend, .risk-factors, .suggestions {
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .health-status h4 {
            color: #2e7d32;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .health-status h4::before {
            content: "âœ…";
            margin-right: 8px;
        }

        .development-trend h4 {
            color: #f57c00;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .development-trend h4::before {
            content: "ğŸ“ˆ";
            margin-right: 8px;
        }

        .risk-factors h4 {
            color: #d32f2f;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .risk-factors h4::before {
            content: "âš ï¸";
            margin-right: 8px;
        }

        .suggestions h4 {
            color: #0d47a1;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .suggestions h4::before {
            content: "ğŸ’¡";
            margin-right: 8px;
        }

        .suggestions ul, .risk-factors ul {
            padding-left: 20px;
        }

        .suggestions li, .risk-factors li {
            margin-bottom: 8px;
            line-height: 1.8;
        }

        /* é¡µè„šæ ·å¼ */
        footer {
            background: #0d47a1;
            color: white;
            padding: 40px 0 20px;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-column h3 {
            margin-bottom: 20px;
            font-size: 18px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 50px;
            height: 2px;
            background: #1e88e5;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column ul li a {
            color: #bbdefb;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-column ul li a:hover {
            color: white;
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            font-size: 14px;
            color: #bbdefb;
        }

        /* å“åº”å¼æ ·å¼ */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            nav ul {
                margin-top: 20px;
                justify-content: center;
            }

            nav ul li {
                margin: 0 15px;
            }

            .hero h1 {
                font-size: 30px;
            }

            .hero p {
                font-size: 16px;
            }

            .section-title {
                font-size: 26px;
            }

            .knowledge, .self-test {
                padding: 20px;
            }

            .checkbox-item {
                width: 100%;
            }

            .tabs {
                flex-direction: column;
                align-items: stretch;
            }

            .tab {
                text-align: center;
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <!-- å¤´éƒ¨åŒºåŸŸ -->
    <header>
        <div class="container header-content">
            <div class="logo">é«˜è¡€å‹å¥åº·ç§‘æ™®å¹³å°</div>
            <nav>
                <ul>
                    <li><a href="#home">é¦–é¡µ</a></li>
                    <li><a href="#knowledge">ç§‘æ™®çŸ¥è¯†</a></li>
                    <li><a href="#test">è¡€å‹è‡ªæµ‹</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- è‹±é›„åŒº -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>å…³æ³¨è¡€å‹å¥åº·ï¼Œå®ˆæŠ¤ç¾å¥½ç”Ÿæ´»</h1>
                <p>é«˜è¡€å‹æ˜¯æœ€å¸¸è§çš„æ…¢æ€§ç—…ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å¿ƒè„‘è¡€ç®¡ç—…æœ€ä¸»è¦çš„å±é™©å› ç´ ã€‚äº†è§£é«˜è¡€å‹ï¼Œç§‘å­¦ç®¡ç†è¡€å‹ï¼Œè®©å¥åº·å¸¸ä¼´å·¦å³ã€‚</p>
                <a href="#test" class="btn">ç«‹å³è‡ªæµ‹</a>
            </div>
        </div>
    </section>

     <!-- ä¸»è¦å†…å®¹åŒº -->
    <main>
        <!-- ç§‘æ™®çŸ¥è¯†åŒºåŸŸ -->
        <section class="knowledge" id="knowledge">
            <div class="container">
                <h2 class="section-title">é«˜è¡€å‹ç§‘æ™®çŸ¥è¯†</h2>
                <p class="section-subtitle">å…¨é¢äº†è§£é«˜è¡€å‹çš„æœ¬è´¨ã€åˆ†ç±»ã€å±å®³ä¸é¢„é˜²ï¼Œç”¨ç§‘å­¦çŸ¥è¯†æ­¦è£…è‡ªå·±ï¼Œè¿œç¦»è¡€å‹å›°æ‰°</p>
                <div class="knowledge-content">
                    <div class="knowledge-card">
                        <div class="card-icon">ğŸ“š</div>
                        <h3>ä»€ä¹ˆæ˜¯é«˜è¡€å‹ï¼Ÿ</h3>
                        <p>é«˜è¡€å‹æ˜¯æŒ‡ä½“å¾ªç¯åŠ¨è„‰è¡€å‹æŒç»­å‡é«˜çš„ä¸´åºŠç»¼åˆå¾ï¼Œæ˜¯å…¨çƒé«˜å‘çš„æ…¢æ€§ç—…ä¹‹ä¸€ã€‚</p>
                        <ul class="card-list">
                            <li>è¯Šæ–­æ ‡å‡†ï¼šæ”¶ç¼©å‹â‰¥140mmHg å’Œ/æˆ– èˆ’å¼ å‹â‰¥90mmHg</li>
                            <li>éšåŒ¿æ€§å¼ºï¼šæ—©æœŸå¤šæ— ç—‡çŠ¶ï¼Œè¢«ç§°ä¸º"æ²‰é»˜çš„æ€æ‰‹"</li>
                            <li>æŒç»­æ€§ï¼šéœ€é•¿æœŸç›‘æµ‹å’Œç®¡ç†ï¼Œä¸å¯éšæ„åœè¯</li>
                            <li>å…¨èº«æ€§ï¼šå¯å½±å“å¿ƒã€è„‘ã€è‚¾ã€çœ¼ç­‰å¤šä¸ªå™¨å®˜</li>
                        </ul>
                    </div>
                    <div class="knowledge-card">
                        <div class="card-icon">ğŸ“Š</div>
                        <h3>é«˜è¡€å‹çš„åˆ†ç±»</h3>
                        <p>æ ¹æ®ç—…å› å’Œå‘ç—…æœºåˆ¶ï¼Œé«˜è¡€å‹ä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œæ²»ç–—æ–¹å¼å„æœ‰ä¾§é‡ã€‚</p>
                        <ul class="card-list">
                            <li>åŸå‘æ€§é«˜è¡€å‹ï¼šå 90%-95%ï¼Œç—…å› ä¸æ˜ï¼Œä¸é—ä¼ ã€ç¯å¢ƒç›¸å…³</li>
                            <li>ç»§å‘æ€§é«˜è¡€å‹ï¼šç”±å…¶ä»–ç–¾ç—…å¼•èµ·ï¼Œå¦‚è‚¾è„ç–¾ç—…ã€å†…åˆ†æ³Œç–¾ç—…ç­‰</li>
                            <li>ç‰¹æ®Šç±»å‹ï¼šå¦Šå¨ æœŸé«˜è¡€å‹ã€å„¿ç«¥é’å°‘å¹´é«˜è¡€å‹ã€è€å¹´é«˜è¡€å‹</li>
                            <li>åˆ†çº§æ ‡å‡†ï¼šæ­£å¸¸é«˜å€¼ã€1çº§ï¼ˆè½»åº¦ï¼‰ã€2çº§ï¼ˆä¸­åº¦ï¼‰ã€3çº§ï¼ˆé‡åº¦ï¼‰</li>
                        </ul>
                    </div>
                    <div class="knowledge-card">
                        <div class="card-icon">âš ï¸</div>
                        <h3>é«˜è¡€å‹çš„å±å®³</h3>
                        <p>é•¿æœŸå¤±æ§çš„é«˜è¡€å‹ä¼šé€æ­¥æŸä¼¤å…¨èº«è¡€ç®¡ï¼Œå¼•å‘å¤šç§ä¸¥é‡å¹¶å‘ç—‡ã€‚</p>
                        <ul class="card-list">
                            <li>å¿ƒè„‘è¡€ç®¡ï¼šè„‘å’ä¸­ã€å† å¿ƒç—…ã€å¿ƒè‚Œæ¢—æ­»ã€å¿ƒåŠ›è¡°ç«­</li>
                            <li>è‚¾è„æŸä¼¤ï¼šé«˜è¡€å‹è‚¾ç—…ã€è‚¾åŠŸèƒ½è¡°ç«­ã€å°¿æ¯’ç—‡</li>
                            <li>çœ¼éƒ¨ç—…å˜ï¼šé«˜è¡€å‹è§†ç½‘è†œç—…å˜ã€è§†åŠ›ä¸‹é™ã€å¤±æ˜</li>
                            <li>å…¨èº«å½±å“ï¼šè¡€ç®¡ç¡¬åŒ–ã€å¤–å‘¨è¡€ç®¡ç–¾ç—…ã€è®¤çŸ¥åŠŸèƒ½ä¸‹é™</li>
                        </ul>
                    </div>
                    <div class="knowledge-card">
                        <div class="card-icon">ğŸŒ¿</div>
                        <h3>é«˜è¡€å‹çš„é¢„é˜²</h3>
                        <p>é€šè¿‡å¥åº·çš„ç”Ÿæ´»æ–¹å¼ï¼Œå¯æœ‰æ•ˆé™ä½é«˜è¡€å‹å‘ç—…é£é™©ï¼Œæˆ–è¾…åŠ©æ§åˆ¶è¡€å‹ã€‚</p>
                        <ul class="card-list">
                            <li>é¥®é£Ÿï¼šä½ç›ï¼ˆæ¯æ—¥â‰¤5gï¼‰ã€ä½è„‚ã€é«˜çº¤ç»´ï¼Œå¤šåƒè”¬æœ</li>
                            <li>è¿åŠ¨ï¼šæ¯å‘¨â‰¥150åˆ†é’Ÿä¸­ç­‰å¼ºåº¦æœ‰æ°§è¿åŠ¨ï¼Œæ§åˆ¶ä½“é‡</li>
                            <li>ä½œæ¯ï¼šæˆ’çƒŸé™é…’ï¼Œé¿å…ç†¬å¤œï¼Œä¿è¯7-8å°æ—¶ç¡çœ </li>
                            <li>å¿ƒæ€ï¼šå‡è½»ç²¾ç¥å‹åŠ›ï¼Œä¿æŒæƒ…ç»ªç¨³å®šï¼Œå®šæœŸç›‘æµ‹</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>


        <!-- è‡ªæµ‹å·¥å…·åŒºåŸŸ -->
        <section class="self-test" id="test">
            <div class="container">
                <h2 class="section-title">è¡€å‹è‡ªæµ‹ä¸é£é™©è¯„ä¼°</h2>
                <div class="test-form">
                    <!-- åŸºç¡€ä¿¡æ¯ -->
                    <div class="form-group">
                        <label for="age">å¹´é¾„ <span style="color:red;">*</span></label>
                        <input type="number" id="age" class="form-control" min="18" max="120" placeholder="è¯·è¾“å…¥æ‚¨çš„å¹´é¾„">
                    </div>
                    <div class="form-group">
                        <label for="gender">æ€§åˆ« <span style="color:red;">*</span></label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="male" name="gender" value="male">
                                <label for="male">ç”·</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="female" name="gender" value="female">
                                <label for="female">å¥³</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="weight">ä½“é‡ï¼ˆkgï¼‰ <span style="color:red;">*</span></label>
                        <input type="number" id="weight" class="form-control" min="30" max="300" step="0.1" placeholder="è¯·è¾“å…¥æ‚¨çš„ä½“é‡">
                    </div>
                    <div class="form-group">
                        <label for="height">èº«é«˜ï¼ˆcmï¼‰ <span style="color:red;">*</span></label>
                        <input type="number" id="height" class="form-control" min="100" max="250" placeholder="è¯·è¾“å…¥æ‚¨çš„èº«é«˜">
                    </div>

                    <!-- è¡€å‹è¾“å…¥é€‰é¡¹å¡ -->
                    <div class="form-group">
                        <label>è¡€å‹ä¿¡æ¯ï¼ˆä¸çŸ¥é“å…·ä½“æ•°å€¼å¯é€‰æ‹©"å¿«é€Ÿä¼°ç®—"ï¼‰ <span style="color:red;">*</span></label>
                        <div class="tab-container">
                            <div class="tabs">
                                <div class="tab active" data-tab="direct-input">ç›´æ¥è¾“å…¥è¡€å‹å€¼</div>
                                <div class="tab" data-tab="estimate">å¿«é€Ÿä¼°ç®—è¡€å‹</div>
                                <button class="btn" style="margin-left: auto; padding: 8px 15px; font-size: 14px;" onclick="openGuideModal()">æµ‹é‡æŒ‡å¯¼</button>
                            </div>

                            <!-- ç›´æ¥è¾“å…¥è¡€å‹ -->
                            <div class="tab-content active" id="direct-input-content">
                                <div class="form-group" style="margin-bottom: 15px;">
                                    <label for="systolic">æ”¶ç¼©å‹ï¼ˆé«˜å‹ï¼Œå•ä½ï¼šmmHgï¼‰ <span style="color:red;">*</span></label>
                                    <input type="number" id="systolic" class="form-control" min="80" max="250" placeholder="å¦‚ï¼š120">
                                    <p class="hint-text">é«˜å‹æ˜¯è¡€å‹è®¡è¯»æ•°ä¸­è¾ƒé«˜çš„æ•°å€¼ï¼Œåæ˜ å¿ƒè„æ”¶ç¼©æ—¶çš„è¡€ç®¡å‹åŠ›</p>
                                </div>
                                <div class="form-group">
                                    <label for="diastolic">èˆ’å¼ å‹ï¼ˆä½å‹ï¼Œå•ä½ï¼šmmHgï¼‰ <span style="color:red;">*</span></label>
                                    <input type="number" id="diastolic" class="form-control" min="40" max="150" placeholder="å¦‚ï¼š80">
                                    <p class="hint-text">ä½å‹æ˜¯è¡€å‹è®¡è¯»æ•°ä¸­è¾ƒä½çš„æ•°å€¼ï¼Œåæ˜ å¿ƒè„èˆ’å¼ æ—¶çš„è¡€ç®¡å‹åŠ›</p>
                                </div>
                            </div>

                            <!-- å¿«é€Ÿä¼°ç®—è¡€å‹ -->
                            <div class="tab-content" id="estimate-content">
                                <div class="form-group" style="margin-bottom: 15px;">
                                    <label>å¹³æ—¶æ˜¯å¦æœ‰ä»¥ä¸‹æƒ…å†µï¼ˆå¯åæ˜ è¡€å‹æ°´å¹³ï¼‰ <span style="color:red;">*</span></label>
                                    <div class="checkbox-group">
                                        <div class="checkbox-item">
                                            <input type="checkbox" id="bp-sign1" name="bp-sign" value="sign1">
                                            <label for="bp-sign1">çˆ¬æ¥¼æ¢¯/è¿åŠ¨åå®¹æ˜“å¤´æ™•æ°”å–˜</label>
                                        </div>
                                        <div class="checkbox-item">
                                            <input type="checkbox" id="bp-sign2" name="bp-sign" value="sign2">
                                            <label for="bp-sign2">ç»å¸¸å¤´ç—›ã€å¤´æ™•ï¼ˆå°¤å…¶æ˜¯æ™¨èµ·ï¼‰</label>
                                        </div>
                                        <div class="checkbox-item">
                                            <input type="checkbox" id="bp-sign3" name="bp-sign" value="sign3">
                                            <label for="bp-sign3">è§†åŠ›å¶å°”æ¨¡ç³Šã€çœ¼èƒ€</label>
                                        </div>
                                        <div class="checkbox-item">
                                            <input type="checkbox" id="bp-sign4" name="bp-sign" value="sign4">
                                            <label for="bp-sign4">èƒ¸é—·ã€å¿ƒæ…Œã€è®°å¿†åŠ›ä¸‹é™</label>
                                        </div>
                                        <div class="checkbox-item">
                                            <input type="checkbox" id="bp-sign5" name="bp-sign" value="sign5">
                                            <label for="bp-sign5">æ— ä¸Šè¿°ä»»ä½•æƒ…å†µ</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group" style="margin-bottom: 15px;">
                                    <label>æœ€è¿‘ä¸€æ¬¡ä½“æ£€/å°±åŒ»æ—¶ï¼ŒåŒ»ç”Ÿæ˜¯å¦æåŠè¡€å‹é—®é¢˜ <span style="color:red;">*</span></label>
                                    <div class="radio-group">
                                        <div class="radio-item">
                                            <input type="radio" id="doc-normal" name="doc-bp" value="normal">
                                            <label for="doc-normal">æ­£å¸¸</label>
                                        </div>
                                        <div class="radio-item">
                                            <input type="radio" id="doc-high" name="doc-bp" value="high">
                                            <label for="doc-high">åé«˜/éœ€è¦å…³æ³¨</label>
                                        </div>
                                        <div class="radio-item">
                                            <input type="radio" id="doc-treat" name="doc-bp" value="treat">
                                            <label for="doc-treat">ç¡®è¯Šé«˜è¡€å‹/æ­£åœ¨æœè¯</label>
                                        </div>
                                        <div class="radio-item">
                                            <input type="radio" id="doc-unknown" name="doc-bp" value="unknown">
                                            <label for="doc-unknown">æœªæåŠ/è®°ä¸æ¸…</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="estimate-note">
                                    âš ï¸ æç¤ºï¼šå¿«é€Ÿä¼°ç®—ç»“æœä»…ç”¨äºé£é™©è¯„ä¼°å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£å®é™…æµ‹é‡ã€‚å»ºè®®æ¡ä»¶å…è®¸æ—¶ä½¿ç”¨è¡€å‹è®¡æµ‹é‡å‡†ç¡®æ•°å€¼ã€‚
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ç”Ÿæ´»ä¹ æƒ¯ç»†èŠ‚ -->
                    <div class="form-group">
                        <label>é¥®é£Ÿä¹ æƒ¯ <span style="color:red;">*</span></label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="diet-low" name="diet" value="low">
                                <label for="diet-low">ä½ç›ä½è„‚ï¼ˆæ¸…æ·¡é¥®é£Ÿï¼‰</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="diet-medium" name="diet" value="medium">
                                <label for="diet-medium">ä¸­ç­‰ç›è„‚ï¼ˆå¶å°”é‡æ²¹é‡ç›ï¼‰</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="diet-high" name="diet" value="high">
                                <label for="diet-high">é«˜ç›é«˜è„‚ï¼ˆç»å¸¸å¤–å–/æ²¹ç‚¸/è…Œåˆ¶é£Ÿå“ï¼‰</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>é¥®é…’æƒ…å†µ <span style="color:red;">*</span></label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="drink-none" name="drink" value="none">
                                <label for="drink-none">ä¸é¥®é…’</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="drink-occasionally" name="drink" value="occasionally">
                                <label for="drink-occasionally">å¶å°”é¥®é…’ï¼ˆæ¯æœˆâ‰¤3æ¬¡ï¼‰</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="drink-regularly" name="drink" value="regularly">
                                <label for="drink-regularly">ç»å¸¸é¥®é…’ï¼ˆæ¯å‘¨â‰¥3æ¬¡ï¼‰</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="drink-heavily" name="drink" value="heavily">
                                <label for="drink-heavily">å¤§é‡é¥®é…’ï¼ˆæ¯æ—¥é¥®é…’ï¼‰</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>è¿åŠ¨æƒ…å†µ <span style="color:red;">*</span></label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="exercise-frequent" name="exercise" value="frequent">
                                <label for="exercise-frequent">è§„å¾‹è¿åŠ¨ï¼ˆæ¯å‘¨â‰¥5æ¬¡ï¼Œæ¯æ¬¡â‰¥30åˆ†é’Ÿï¼‰</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="exercise-occasionally" name="exercise" value="occasionally">
                                <label for="exercise-occasionally">å¶å°”è¿åŠ¨ï¼ˆæ¯å‘¨2-4æ¬¡ï¼‰</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="exercise-rarely" name="exercise" value="rarely">
                                <label for="exercise-rarely">å¾ˆå°‘è¿åŠ¨ï¼ˆæ¯æœˆ1-3æ¬¡ï¼‰</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="exercise-never" name="exercise" value="never">
                                <label for="exercise-never">å‡ ä¹ä¸è¿åŠ¨</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>ä½œæ¯æƒ…å†µ <span style="color:red;">*</span></label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="sleep-good" name="sleep" value="good">
                                <label for="sleep-good">è§„å¾‹ä½œæ¯ï¼ˆæ¯æ™š7-8å°æ—¶ï¼Œä¸ç†¬å¤œï¼‰</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="sleep-irregular" name="sleep" value="irregular">
                                <label for="sleep-irregular">ä½œæ¯ä¸è§„å¾‹ï¼ˆå¶å°”ç†¬å¤œï¼Œç¡çœ 6-7å°æ—¶ï¼‰</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="sleep-poor" name="sleep" value="poor">
                                <label for="sleep-poor">é•¿æœŸç†¬å¤œï¼ˆç»å¸¸å‡Œæ™¨1ç‚¹åç¡ï¼Œç¡çœ â‰¤6å°æ—¶ï¼‰</label>
                            </div>
                        </div>
                    </div>

                    <!-- é—ä¼ ä¸ç—‡çŠ¶ -->
                    <div class="form-group">
                        <label>å®¶æ—å² <span style="color:red;">*</span></label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="family-yes" name="family" value="yes">
                                <label for="family-yes">æœ‰é«˜è¡€å‹å®¶æ—å²ï¼ˆçˆ¶æ¯/å…„å¼Ÿå§å¦¹æ‚£ç—…ï¼‰</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="family-no" name="family" value="no">
                                <label for="family-no">æ— é«˜è¡€å‹å®¶æ—å²</label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>æ˜¯å¦æœ‰ä»¥ä¸‹ä¸é€‚ç—‡çŠ¶ï¼ˆå¯å¤šé€‰ï¼‰ <span style="color:red;">*</span></label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="symptom-headache" name="symptom" value="headache">
                                <label for="symptom-headache">å¤´ç—›å¤´æ™•</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="symptom-dizzy" name="symptom" value="dizzy">
                                <label for="symptom-dizzy">çœ©æ™•è€³é¸£</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="symptom-fatigue" name="symptom" value="fatigue">
                                <label for="symptom-fatigue">ç–²åŠ³ä¹åŠ›</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="symptom-chest" name="symptom" value="chest">
                                <label for="symptom-chest">èƒ¸é—·å¿ƒæ‚¸</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="symptom-blur" name="symptom" value="blur">
                                <label for="symptom-blur">è§†åŠ›æ¨¡ç³Š</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="symptom-none" name="symptom" value="none">
                                <label for="symptom-none">æ— ä»»ä½•ä¸é€‚</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn" onclick="calculateResult()">ç”Ÿæˆè¯„ä¼°æŠ¥å‘Š</button>
                    </div>

                    <!-- ç»“æœå±•ç¤ºåŒºåŸŸ -->
                    <div class="result" id="result">
                        <h3>ç»¼åˆå¥åº·è¯„ä¼°æŠ¥å‘Š</h3>
                        
                        <div class="health-status">
                            <h4>å½“å‰å¥åº·çŠ¶æ€</h4>
                            <p id="current-status"></p>
                        </div>
                        
                        <div class="development-trend">
                            <h4>æœªæ¥å‘å±•è¶‹åŠ¿é¢„æµ‹</h4>
                            <p id="trend-prediction"></p>
                        </div>
                        
                        <div class="risk-factors">
                            <h4>ä¸»è¦é£é™©å› ç´ åˆ†æ</h4>
                            <ul id="risk-factors-list"></ul>
                        </div>
                        
                        <div class="suggestions">
                            <h4>ä¸ªæ€§åŒ–å¥åº·å»ºè®®</h4>
                            <ul id="suggestions-list"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- è¡€å‹æµ‹é‡æŒ‡å¯¼å¼¹çª— -->
    <div class="modal" id="guide-modal">
        <div class="modal-content">
            <span class="close" onclick="closeGuideModal()">&times;</span>
            <h3>å®¶ç”¨è¡€å‹è®¡æµ‹é‡æŒ‡å¯¼ï¼ˆå‡†ç¡®æµ‹é‡æ”¶ç¼©å‹å’Œèˆ’å¼ å‹ï¼‰</h3>
            <div class="guide-step" data-step="1">
                <h4>å‡†å¤‡å·¥ä½œ</h4>
                <p>1. æµ‹é‡å‰30åˆ†é’Ÿå†…ä¸è¿åŠ¨ã€ä¸å¸çƒŸã€ä¸é¥®é…’ã€ä¸å–å’–å•¡/æµ“èŒ¶ï¼Œé¿å…æƒ…ç»ªæ¿€åŠ¨</p>
                <p>2. ååœ¨æœ‰é èƒŒçš„æ¤…å­ä¸Šï¼ŒåŒè„šå¹³æ”¾åœ°é¢ï¼Œæ”¾æ¾5åˆ†é’Ÿåå†æµ‹é‡</p>
                <p>3. é€‰æ‹©åˆé€‚å°ºå¯¸çš„è¢–å¸¦ï¼ˆå¤šæ•°æˆäººç”¨æ ‡å‡†è¢–å¸¦ï¼Œè‚¥èƒ–è€…ç”¨å¤§å·è¢–å¸¦ï¼‰</p>
            </div>
            <div class="guide-step" data-step="2">
                <h4>æµ‹é‡å§¿åŠ¿</h4>
                <p>1. æ‰‹è‡‚è‡ªç„¶æ”¾ç½®åœ¨ä¸å¿ƒè„åŒä¸€æ°´å¹³ä½ç½®ï¼ˆå¯æ”¾åœ¨æ¡Œå­ä¸Šï¼‰</p>
                <p>2. è¢–å¸¦ç¼ ç»•åœ¨æ‰‹è‡‚è‚˜çªä¸Šæ–¹2-3å˜ç±³å¤„ï¼Œæ¾ç´§ä»¥èƒ½æ’å…¥1-2æŒ‡ä¸ºå®œ</p>
                <p>3. æµ‹é‡æ—¶ä¸è¦è¯´è¯ã€ä¸è¦ç§»åŠ¨æ‰‹è‡‚å’Œèº«ä½“</p>
            </div>
            <div class="guide-step" data-step="3">
                <h4>æµ‹é‡è¿‡ç¨‹</h4>
                <p>1. æŒ‰ä¸‹è¡€å‹è®¡å¯åŠ¨é”®ï¼Œç­‰å¾…è¢–å¸¦å……æ°”ã€æ”¾æ°”å®Œæˆ</p>
                <p>2. å±å¹•æ˜¾ç¤ºçš„ä¸¤ä¸ªæ•°å€¼ä¸­ï¼Œè¾ƒé«˜çš„æ˜¯æ”¶ç¼©å‹ï¼ˆé«˜å‹ï¼‰ï¼Œè¾ƒä½çš„æ˜¯èˆ’å¼ å‹ï¼ˆä½å‹ï¼‰</p>
                <p>3. æ¯æ¬¡æµ‹é‡é—´éš”1-2åˆ†é’Ÿï¼Œè¿ç»­æµ‹é‡2-3æ¬¡ï¼Œå–å¹³å‡å€¼ä½œä¸ºæœ€ç»ˆç»“æœ</p>
            </div>
            <div class="guide-step" data-step="4">
                <h4>æ³¨æ„äº‹é¡¹</h4>
                <p>1. æ¨èä½¿ç”¨ç”µå­è¡€å‹è®¡ï¼ˆæ“ä½œç®€å•ï¼Œé€‚åˆå®¶ç”¨ï¼‰ï¼Œå®šæœŸæ ¡å‡†ä¿è¯å‡†ç¡®æ€§</p>
                <p>2. æ¯å¤©å›ºå®šæ—¶é—´æµ‹é‡ï¼ˆå¦‚æ—©æ™¨èµ·åºŠåã€æ™šä¸Šç¡å‰ï¼‰ï¼Œä¾¿äºè§‚å¯Ÿå˜åŒ–è¶‹åŠ¿</p>
                <p>3. è‹¥æµ‹é‡ç»“æœæŒç»­åé«˜ï¼ˆæ”¶ç¼©å‹â‰¥140æˆ–èˆ’å¼ å‹â‰¥90ï¼‰ï¼Œå»ºè®®å°±åŒ»ç¡®è¯Š</p>
            </div>
        </div>
    </div>

    <!-- é¡µè„šåŒºåŸŸ -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>å…³äºå¹³å°</h3>
                    <ul>
                        <li><a href="#">å¹³å°ä»‹ç»</a></li>
                        <li><a href="#">å›¢é˜Ÿæˆå‘˜</a></li>
                        <li><a href="#">è”ç³»æ–¹å¼</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>ç§‘æ™®èµ„æº</h3>
                    <ul>
                        <li><a href="#">é«˜è¡€å‹æŒ‡å—</a></li>
                        <li><a href="#">å¥åº·é¥®é£Ÿ</a></li>
                        <li><a href="#">è¿åŠ¨å»ºè®®</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>ç›¸å…³é“¾æ¥</h3>
                    <ul>
                        <li><a href="#">å›½å®¶å«å¥å§”</a></li>
                        <li><a href="#">ä¸­å›½é«˜è¡€å‹è”ç›Ÿ</a></li>
                        <li><a href="#">å¥åº·ä¸­å›½2030</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>Â© 2025 é«˜è¡€å‹å¥åº·ç§‘æ™®å¹³å° ç‰ˆæƒæ‰€æœ‰ | æœ¬å¹³å°å†…å®¹ä»…ä¾›ç§‘æ™®å‚è€ƒï¼Œä¸æ„æˆåŒ»ç–—å»ºè®®</p>
            </div>
        </div>
    </footer>

    <script>
        // åˆå§‹åŒ–é€‰é¡¹å¡ç‚¹å‡»äº‹ä»¶
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // åˆ‡æ¢é€‰é¡¹å¡æ¿€æ´»çŠ¶æ€
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // åˆ‡æ¢å†…å®¹åŒºåŸŸ
                    document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
                    document.getElementById(`${tabId}-content`).classList.add('active');
                });
            });

            // ç¡®ä¿å¼¹çª—å…³é—­æŒ‰é’®å¯ç‚¹å‡»
            document.querySelector('.close').addEventListener('click', closeGuideModal);
        });

        // è¡€å‹æµ‹é‡æŒ‡å¯¼å¼¹çª—
        function openGuideModal() {
            const modal = document.getElementById('guide-modal');
            modal.style.display = 'flex';
        }

        function closeGuideModal() {
            const modal = document.getElementById('guide-modal');
            modal.style.display = 'none';
        }

        // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­
        window.addEventListener('click', function(event) {
            const modal = document.getElementById('guide-modal');
            if (event.target === modal) {
                closeGuideModal();
            }
        });

        // è®¡ç®—BMIæŒ‡æ•°
        function calculateBMI(weight, height) {
            const heightM = height / 100;
            return (weight / (heightM * heightM)).toFixed(1);
        }

        // è¯„ä¼°è¡€å‹ç­‰çº§
        function evaluateBP(systolic, diastolic) {
            if (systolic < 120 && diastolic < 80) {
                return {
                    grade: "æ­£å¸¸è¡€å‹",
                    desc: "è¡€å‹å¤„äºç†æƒ³èŒƒå›´ï¼Œå¿ƒè¡€ç®¡ç–¾ç—…é£é™©è¾ƒä½"
                };
            } else if ((systolic >= 120 && systolic < 130) && diastolic < 80) {
                return {
                    grade: "æ­£å¸¸é«˜å€¼è¡€å‹",
                    desc: "é«˜è¡€å‹å‰æœŸï¼Œè¡€å‹å·²å¼€å§‹å‡é«˜ï¼Œéœ€è­¦æƒ•"
                };
            } else if ((systolic >= 130 && systolic < 140) || (diastolic >= 80 && diastolic < 90)) {
                return {
                    grade: "1çº§é«˜è¡€å‹ï¼ˆè½»åº¦ï¼‰",
                    desc: "è¡€å‹æŒç»­å‡é«˜ï¼Œå·²è¾¾åˆ°é«˜è¡€å‹è¯Šæ–­æ ‡å‡†"
                };
            } else if ((systolic >= 140 && systolic < 160) || (diastolic >= 90 && diastolic < 100)) {
                return {
                    grade: "2çº§é«˜è¡€å‹ï¼ˆä¸­åº¦ï¼‰",
                    desc: "è¡€å‹æ˜æ˜¾å‡é«˜ï¼Œå¿ƒè„‘è¡€ç®¡ç–¾ç—…é£é™©æ˜¾è‘—å¢åŠ "
                };
            } else if (systolic >= 160 || diastolic >= 100) {
                return {
                    grade: "3çº§é«˜è¡€å‹ï¼ˆé‡åº¦ï¼‰",
                    desc: "è¡€å‹ä¸¥é‡å‡é«˜ï¼Œå±äºé«˜å±çŠ¶æ€ï¼Œéœ€ç´§æ€¥å¹²é¢„"
                };
            } else {
                return {
                    grade: "æ•°æ®å¼‚å¸¸",
                    desc: "è¾“å…¥çš„è¡€å‹å€¼ä¸ç¬¦åˆå¸¸è§„èŒƒå›´ï¼Œè¯·æ ¸å¯¹åé‡æ–°è¾“å…¥"
                };
            }
        }

        // å¿«é€Ÿä¼°ç®—è¡€å‹å€¼
        function estimateBP(formData) {
            // æ’é™¤"æ— ä¸Šè¿°ä»»ä½•æƒ…å†µ"çš„é€‰é¡¹
            const bpSigns = formData.bpSigns.filter(sign => sign !== "sign5");
            const docBp = formData.docBp;
            
            if (docBp === "treat") {
                return { systolic: 145, diastolic: 95 };
            } else if (docBp === "high") {
                return { systolic: 135, diastolic: 85 };
            } else if (bpSigns.length >= 3) {
                return { systolic: 138, diastolic: 88 };
            } else if (bpSigns.length === 2) {
                return { systolic: 128, diastolic: 78 };
            } else if (docBp === "normal") {
                return { systolic: 118, diastolic: 75 };
            } else {
                const bmi = calculateBMI(formData.weight, formData.height);
                const age = formData.age;
                
                if (age >= 55 || bmi >= 28 || formData.family === "yes") {
                    return { systolic: 125, diastolic: 76 };
                } else {
                    return { systolic: 115, diastolic: 72 };
                }
            }
        }

        // è®¡ç®—é£é™©æ€»åˆ†
        function calculateRiskScore(formData) {
            let score = 0;
            let bpResult;
            
            if (formData.useEstimate) {
                const estimatedBP = estimateBP(formData);
                bpResult = evaluateBP(estimatedBP.systolic, estimatedBP.diastolic);
            } else {
                bpResult = evaluateBP(formData.systolic, formData.diastolic);
            }
            
            // è¡€å‹å› ç´ ï¼ˆ30åˆ†ï¼‰
            switch(bpResult.grade) {
                case "æ­£å¸¸è¡€å‹": score += 5; break;
                case "æ­£å¸¸é«˜å€¼è¡€å‹": score += 15; break;
                case "1çº§é«˜è¡€å‹ï¼ˆè½»åº¦ï¼‰": score += 20; break;
                case "2çº§é«˜è¡€å‹ï¼ˆä¸­åº¦ï¼‰": score += 25; break;
                case "3çº§é«˜è¡€å‹ï¼ˆé‡åº¦ï¼‰": score += 30; break;
            }

            // å¹´é¾„å› ç´ ï¼ˆ15åˆ†ï¼‰
            if (formData.age >= 65) score += 15;
            else if (formData.age >= 55) score += 12;
            else if (formData.age >= 45) score += 8;
            else if (formData.age >= 35) score += 4;

            // æ€§åˆ«å› ç´ ï¼ˆ5åˆ†ï¼‰
            if (formData.gender === "male" && formData.age >= 40) score += 5;

            // BMIå› ç´ ï¼ˆ15åˆ†ï¼‰
            const bmi = calculateBMI(formData.weight, formData.height);
            if (bmi >= 28) score += 15;
            else if (bmi >= 24) score += 10;
            else if (bmi >= 22) score += 5;

            // é¥®é£Ÿå› ç´ ï¼ˆ10åˆ†ï¼‰
            switch(formData.diet) {
                case "high": score += 10; break;
                case "medium": score += 5; break;
                case "low": score += 2; break;
            }

            // é¥®é…’å› ç´ ï¼ˆ10åˆ†ï¼‰
            switch(formData.drink) {
                case "heavily": score += 10; break;
                case "regularly": score += 7; break;
                case "occasionally": score += 3; break;
                case "none": score += 0; break;
            }

            // è¿åŠ¨å› ç´ ï¼ˆ10åˆ†ï¼‰
            switch(formData.exercise) {
                case "never": score += 10; break;
                case "rarely": score += 7; break;
                case "occasionally": score += 3; break;
                case "frequent": score += 0; break;
            }

            // ä½œæ¯å› ç´ ï¼ˆ8åˆ†ï¼‰
            switch(formData.sleep) {
                case "poor": score += 8; break;
                case "irregular": score += 4; break;
                case "good": score += 0; break;
            }

            // é—ä¼ å› ç´ ï¼ˆ7åˆ†ï¼‰
            if (formData.family === "yes") score += 7;

            // ç—‡çŠ¶å› ç´ ï¼ˆé¢å¤–åŠ åˆ†ï¼Œæœ€é«˜10åˆ†ï¼‰
            // æ’é™¤"æ— ä»»ä½•ä¸é€‚"çš„é€‰é¡¹
            const symptomCount = formData.symptoms.filter(sym => sym !== "none").length;
            if (symptomCount >= 3) score += 10;
            else if (symptomCount === 2) score += 6;
            else if (symptomCount === 1) score += 3;

            return { score: Math.min(score, 100), bpResult };
        }

        // åˆ†æé£é™©å› ç´ 
        function analyzeRiskFactors(formData, bpResult) {
            const riskFactors = [];
            const bmi = calculateBMI(formData.weight, formData.height);

            // è¡€å‹å› ç´ 
            const bpSource = formData.useEstimate ? "ï¼ˆä¼°ç®—ï¼‰" : "ï¼ˆå®æµ‹ï¼‰";
            if (bpResult.grade !== "æ­£å¸¸è¡€å‹") {
                riskFactors.push(`è¡€å‹çŠ¶æ€${bpSource}ï¼ˆ${bpResult.grade}ï¼‰ï¼š${bpResult.desc}ï¼Œæ˜¯æ ¸å¿ƒé£é™©å› ç´ `);
            }

            // å¹´é¾„å› ç´ 
            if (formData.age >= 45) {
                riskFactors.push(`å¹´é¾„ï¼ˆ${formData.age}å²ï¼‰ï¼šä¸­è€å¹´äººç¾¤è¡€ç®¡å¼¹æ€§ä¸‹é™ï¼Œé«˜è¡€å‹é£é™©æ˜¾è‘—å¢åŠ `);
            }

            // æ€§åˆ«å› ç´ 
            if (formData.gender === "male" && formData.age >= 40) {
                riskFactors.push(`æ€§åˆ«ä¸å¹´é¾„ï¼šä¸­å¹´ç”·æ€§æ¿€ç´ æ°´å¹³å˜åŒ–ï¼Œé«˜è¡€å‹å‘ç—…ç‡é«˜äºåŒå¹´é¾„æ®µå¥³æ€§`);
            }

            // BMIå› ç´ 
            if (bmi >= 24) {
                riskFactors.push(`ä½“é‡æŒ‡æ•°ï¼ˆBMIï¼š${bmi}ï¼‰ï¼šè¶…é‡/è‚¥èƒ–ä¼šå¢åŠ å¿ƒè„è´Ÿæ‹…ï¼Œå¯¼è‡´è¡€å‹å‡é«˜`);
            }

            // é¥®é£Ÿå› ç´ 
            if (formData.diet === "high") {
                riskFactors.push(`é¥®é£Ÿä¹ æƒ¯ï¼šé•¿æœŸé«˜ç›é«˜è„‚é¥®é£Ÿä¼šå¯¼è‡´æ°´é’ æ½´ç•™ã€è¡€ç®¡ç¡¬åŒ–ï¼Œç›´æ¥å‡é«˜è¡€å‹`);
            } else if (formData.diet === "medium") {
                riskFactors.push(`é¥®é£Ÿä¹ æƒ¯ï¼šå¶å°”é‡æ²¹é‡ç›ä¼šå¢åŠ è¡€å‹æ³¢åŠ¨é£é™©ï¼Œéœ€è¿›ä¸€æ­¥æ”¹å–„`);
            }

            // é¥®é…’å› ç´ 
            if (formData.drink === "heavily" || formData.drink === "regularly") {
                riskFactors.push(`é¥®é…’ä¹ æƒ¯ï¼šé•¿æœŸ/é¢‘ç¹é¥®é…’ä¼šåˆºæ¿€è¡€ç®¡æ”¶ç¼©ï¼ŒæŸä¼¤è¡€ç®¡å†…çš®ï¼Œå¯¼è‡´è¡€å‹å‡é«˜`);
            }

            // è¿åŠ¨å› ç´ 
            if (formData.exercise === "never" || formData.exercise === "rarely") {
                riskFactors.push(`è¿åŠ¨æƒ…å†µï¼šç¼ºä¹è¿åŠ¨å¯¼è‡´è¡€æ¶²å¾ªç¯å‡æ…¢ï¼Œè¡€ç®¡å¼¹æ€§ä¸‹é™ï¼Œå¢åŠ é«˜è¡€å‹é£é™©`);
            }

            // ä½œæ¯å› ç´ 
            if (formData.sleep === "poor") {
                riskFactors.push(`ä½œæ¯æƒ…å†µï¼šé•¿æœŸç†¬å¤œä¼šå¯¼è‡´ç¥ç»å†…åˆ†æ³Œç´Šä¹±ï¼Œå¼•èµ·è¡€å‹è°ƒèŠ‚åŠŸèƒ½å¼‚å¸¸`);
            } else if (formData.sleep === "irregular") {
                riskFactors.push(`ä½œæ¯æƒ…å†µï¼šä½œæ¯ä¸è§„å¾‹ä¼šå¯¼è‡´è¡€å‹æ³¢åŠ¨ï¼Œä¸åˆ©äºè¡€å‹ç¨³å®š`);
            }

            // é—ä¼ å› ç´ 
            if (formData.family === "yes") {
                riskFactors.push(`å®¶æ—é—ä¼ ï¼šé«˜è¡€å‹å…·æœ‰æ˜æ˜¾é—ä¼ å€¾å‘ï¼Œäº²å±æ‚£ç—…åˆ™ä¸ªäººé£é™©æ˜¾è‘—å‡é«˜`);
            }

            // ç—‡çŠ¶å› ç´ 
            const symptoms = formData.symptoms.filter(sym => sym !== "none");
            if (symptoms.length > 0) {
                riskFactors.push(`ä¸é€‚ç—‡çŠ¶ï¼ˆ${symptoms.join("ã€")}ï¼‰ï¼šè¿™äº›ç—‡çŠ¶å¯èƒ½æ˜¯è¡€å‹å‡é«˜çš„è¡¨ç°ï¼Œéœ€é‡è§†`);
            }

            // ä¼°ç®—è¡€å‹æç¤º
            if (formData.useEstimate) {
                riskFactors.push(`è¡€å‹ä¼°ç®—æç¤ºï¼šæœ¬æ¬¡è¯„ä¼°åŸºäºç—‡çŠ¶å’Œå°±åŒ»è®°å½•ä¼°ç®—è¡€å‹ï¼Œå»ºè®®å°½å¿«ä½¿ç”¨è¡€å‹è®¡æµ‹é‡å‡†ç¡®æ•°å€¼ï¼Œä»¥è·å¾—æ›´ç²¾å‡†çš„è¯„ä¼°ç»“æœ`);
            }

            if (riskFactors.length === 0) {
                riskFactors.push("æœªå‘ç°æ˜æ˜¾é«˜è¡€å‹é£é™©å› ç´ ï¼Œå½“å‰ç”Ÿæ´»æ–¹å¼å’Œèº«ä½“çŠ¶æ€è‰¯å¥½ï¼Œè¯·ç»§ç»­ä¿æŒ");
            }

            return riskFactors;
        }

        // è¯„ä¼°å½“å‰å¥åº·çŠ¶æ€
        function evaluateCurrentStatus(score, bpResult, symptoms, useEstimate) {
            const hasSymptoms = symptoms.filter(sym => sym !== "none").length > 0;
            const estimateNote = useEstimate ? "ï¼ˆæ³¨ï¼šè¡€å‹ä¸ºä¼°ç®—å€¼ï¼Œä»…ä¾›å‚è€ƒï¼‰" : "";
            
            if (score < 20) {
                return `å¥åº·çŠ¶æ€è‰¯å¥½ï¼šè¡€å‹å¤„äº${bpResult.grade}${estimateNote}ï¼Œæ— æ˜æ˜¾é£é™©å› ç´ ${hasSymptoms ? "ï¼Œä½†å­˜åœ¨è½»å¾®ä¸é€‚ç—‡çŠ¶" : ""}ï¼Œå¿ƒè¡€ç®¡å¥åº·çŠ¶å†µç†æƒ³ã€‚`;
            } else if (score < 40) {
                return `å¥åº·çŠ¶æ€å°šå¯ï¼šè¡€å‹å¤„äº${bpResult.grade}${estimateNote}ï¼Œå­˜åœ¨å°‘é‡é£é™©å› ç´ ${hasSymptoms ? "ï¼Œä¼´éšè½»å¾®ä¸é€‚ç—‡çŠ¶" : ""}ï¼Œå±äºä½é£é™©äººç¾¤ï¼Œä½†éœ€å¼€å§‹è°ƒæ•´ç”Ÿæ´»æ–¹å¼ã€‚`;
            } else if (score < 60) {
                return `å¥åº·çŠ¶æ€éœ€å…³æ³¨ï¼šè¡€å‹å¤„äº${bpResult.grade}${estimateNote}ï¼Œå­˜åœ¨å¤šä¸ªé£é™©å› ç´ ${hasSymptoms ? "ï¼Œä¸”æœ‰æ˜æ˜¾ä¸é€‚ç—‡çŠ¶" : ""}ï¼Œå±äºä¸­é£é™©äººç¾¤ï¼Œè¡€å‹å¯èƒ½è¿›ä¸€æ­¥å‡é«˜ã€‚`;
            } else if (score < 80) {
                return `å¥åº·çŠ¶æ€ä¸ä½³ï¼šè¡€å‹å¤„äº${bpResult.grade}${estimateNote}ï¼Œå­˜åœ¨è¾ƒå¤šé£é™©å› ç´ ${hasSymptoms ? "ï¼Œä¸”ä¼´éšå¤šç§ä¸é€‚ç—‡çŠ¶" : ""}ï¼Œå±äºé«˜é£é™©äººç¾¤ï¼Œå·²å‡ºç°é«˜è¡€å‹ç›¸å…³å¥åº·éšæ‚£ã€‚`;
            } else {
                return `å¥åº·çŠ¶æ€é«˜å±ï¼šè¡€å‹å¤„äº${bpResult.grade}${estimateNote}ï¼Œèšé›†å¤§é‡é£é™©å› ç´ ${hasSymptoms ? "ï¼Œä¸”æœ‰æ˜æ˜¾é«˜è¡€å‹å…¸å‹ç—‡çŠ¶" : ""}ï¼Œå±äºæé«˜é£é™©äººç¾¤ï¼Œéœ€ç«‹å³é‡‡å–å¹²é¢„æªæ–½ã€‚`;
            }
        }

        // é¢„æµ‹æœªæ¥å‘å±•è¶‹åŠ¿
        function predictDevelopmentTrend(score, formData, useEstimate) {
            const bpResult = useEstimate ? evaluateBP(estimateBP(formData).systolic, estimateBP(formData).diastolic) : evaluateBP(formData.systolic, formData.diastolic);
            const bmi = calculateBMI(formData.weight, formData.height);
            const estimateNote = useEstimate ? "ï¼ˆæ³¨ï¼šåŸºäºä¼°ç®—è¡€å‹é¢„æµ‹ï¼Œå»ºè®®æµ‹é‡å‡†ç¡®è¡€å‹åé‡æ–°è¯„ä¼°ï¼‰" : "";

            if (score < 20) {
                return `æœªæ¥1-3å¹´${estimateNote}ï¼šè‹¥ä¿æŒå½“å‰å¥åº·ç”Ÿæ´»æ–¹å¼ï¼Œè¡€å‹å¤§æ¦‚ç‡ç»´æŒåœ¨æ­£å¸¸èŒƒå›´ï¼Œå¿ƒè„‘è¡€ç®¡ç–¾ç—…é£é™©æä½ã€‚`;
            } else if (score < 40) {
                if (formData.diet === "low" && formData.exercise === "frequent" && formData.sleep === "good") {
                    return `æœªæ¥1-3å¹´${estimateNote}ï¼šè‹¥ç»§ç»­ä¿æŒå¥åº·ç”Ÿæ´»ä¹ æƒ¯ï¼Œè¡€å‹æœ‰æœ›ç¨³å®šåœ¨å½“å‰æ°´å¹³æˆ–æ¢å¤æ­£å¸¸ï¼›è‹¥ç”Ÿæ´»æ–¹å¼æ¶åŒ–ï¼Œå¯èƒ½å‘å±•ä¸ºé«˜è¡€å‹ã€‚`;
                } else {
                    return `æœªæ¥1-3å¹´${estimateNote}ï¼šè‹¥ä¸æ”¹å–„ç”Ÿæ´»æ–¹å¼ï¼Œè¡€å‹å¤§æ¦‚ç‡å‡é«˜1-2ä¸ªç­‰çº§ï¼Œå‘å±•ä¸ºæ˜ç¡®é«˜è¡€å‹çš„é£é™©çº¦40%-60%ã€‚`;
                }
            } else if (score < 60) {
                return `æœªæ¥6ä¸ªæœˆ-2å¹´${estimateNote}ï¼šè‹¥ç«‹å³è°ƒæ•´é¥®é£Ÿã€å¢åŠ è¿åŠ¨ã€æ”¹å–„ä½œæ¯ï¼Œè¡€å‹å¯èƒ½æ§åˆ¶åœ¨å½“å‰æ°´å¹³æˆ–è½»å¾®ä¸‹é™ï¼›è‹¥ä¸å¹²é¢„ï¼Œå¤§æ¦‚ç‡å‘å±•ä¸ºä¸­é‡åº¦é«˜è¡€å‹ã€‚`;
            } else if (score < 80) {
                return `æœªæ¥3-12ä¸ªæœˆ${estimateNote}ï¼šè‹¥ä¸åŠæ—¶å°±åŒ»å’Œè°ƒæ•´ç”Ÿæ´»æ–¹å¼ï¼Œè¡€å‹å°†å¿«é€Ÿå‡é«˜ï¼Œå‘å±•ä¸ºé‡åº¦é«˜è¡€å‹çš„é£é™©è¶…è¿‡85%ï¼Œå¿ƒã€è„‘ã€è‚¾ç­‰é¶å™¨å®˜æŸä¼¤é£é™©æ˜¾è‘—å¢åŠ ã€‚`;
            } else {
                return `æœªæ¥1-6ä¸ªæœˆ${estimateNote}ï¼šå±äºé«˜è¡€å‹æ€¥ç—‡é«˜å±çŠ¶æ€ï¼Œè‹¥ä¸ç«‹å³å°±åŒ»æ²»ç–—ï¼Œå¯èƒ½å¼•å‘è„‘å’ä¸­ã€å¿ƒè‚Œæ¢—æ­»ç­‰ä¸¥é‡å¹¶å‘ç—‡ï¼Œå±åŠå¥åº·ã€‚`;
            }
        }

        // ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®®
        function generateSuggestions(formData, score, useEstimate) {
            const suggestions = [];
            const bmi = calculateBMI(formData.weight, formData.height);
            const bpResult = useEstimate ? evaluateBP(estimateBP(formData).systolic, estimateBP(formData).diastolic) : evaluateBP(formData.systolic, formData.diastolic);

            // é€šç”¨å»ºè®®
            suggestions.push("å®šæœŸç›‘æµ‹è¡€å‹ï¼šæ­£å¸¸äººç¾¤æ¯åŠå¹´1æ¬¡ï¼Œé«˜å±äººç¾¤æ¯æœˆ1-2æ¬¡ï¼Œé«˜è¡€å‹æ‚£è€…æ¯å‘¨è‡³å°‘3æ¬¡ï¼Œè®°å½•è¡€å‹å˜åŒ–è¶‹åŠ¿ã€‚");
            suggestions.push("å®šæœŸä½“æ£€ï¼šæ¯å¹´è¿›è¡Œ1æ¬¡å…¨é¢ä½“æ£€ï¼Œé‡ç‚¹æ£€æŸ¥è¡€è„‚ã€è¡€ç³–ã€è‚¾åŠŸèƒ½ã€å¿ƒç”µå›¾ç­‰æŒ‡æ ‡ï¼Œè¯„ä¼°é¶å™¨å®˜çŠ¶æ€ã€‚");

            // è¡€å‹é’ˆå¯¹æ€§å»ºè®®
            if (bpResult.grade === "2çº§é«˜è¡€å‹ï¼ˆä¸­åº¦ï¼‰" || bpResult.grade === "3çº§é«˜è¡€å‹ï¼ˆé‡åº¦ï¼‰") {
                suggestions.push("ç«‹å³å°±åŒ»ï¼šå‰å¾€å¿ƒå†…ç§‘å°±è¯Šï¼ŒéµåŒ»å˜±è¿›è¡Œè¯ç‰©æ²»ç–—ï¼Œä¸å¯è‡ªè¡Œåœè¯æˆ–å‡è¯ã€‚");
            } else if (bpResult.grade === "1çº§é«˜è¡€å‹ï¼ˆè½»åº¦ï¼‰" || bpResult.grade === "æ­£å¸¸é«˜å€¼è¡€å‹") {
                suggestions.push("åŒ»å­¦å’¨è¯¢ï¼šå»ºè®®å’¨è¯¢åŒ»ç”Ÿï¼Œè¯„ä¼°æ˜¯å¦éœ€è¦è¯ç‰©å¹²é¢„ï¼Œä¼˜å…ˆé€šè¿‡ç”Ÿæ´»æ–¹å¼è°ƒæ•´æ§åˆ¶è¡€å‹ã€‚");
            }

            // ä¼°ç®—è¡€å‹é¢å¤–å»ºè®®
            if (useEstimate) {
                suggestions.push("æµ‹é‡å»ºè®®ï¼šå°½å¿«è´­ä¹°å®¶ç”¨ç”µå­è¡€å‹è®¡ï¼ŒæŒ‰ç…§æµ‹é‡æŒ‡å¯¼è§„èŒƒæµ‹é‡è¡€å‹ï¼Œè·å¾—å‡†ç¡®æ•°å€¼åé‡æ–°è¯„ä¼°ã€‚");
            }

            // é¥®é£Ÿå»ºè®®
            if (formData.diet === "high") {
                suggestions.push("é¥®é£Ÿè°ƒæ•´ï¼šä¸¥æ ¼æ§åˆ¶ç›æ‘„å…¥ï¼ˆæ¯æ—¥â‰¤5å…‹ï¼‰ï¼Œå‡å°‘è…Œåˆ¶é£Ÿå“ã€åŠ å·¥è‚‰ç±»ã€å¤–å–å’Œæ²¹ç‚¸é£Ÿå“ï¼›å¢åŠ æ–°é²œè”¬èœï¼ˆæ¯æ—¥â‰¥500å…‹ï¼‰ã€æ°´æœå’Œå…¨è°·ç‰©æ‘„å…¥ã€‚");
            } else if (formData.diet === "medium") {
                suggestions.push("é¥®é£Ÿè°ƒæ•´ï¼šå‡å°‘ç›å’Œæ²¹è„‚æ‘„å…¥ï¼Œçƒ¹é¥ªä»¥è’¸ã€ç…®ã€ç‚–ã€å‡‰æ‹Œä¸ºä¸»ï¼Œæ¯å‘¨å¤–å–æ¬¡æ•°ä¸è¶…è¿‡2æ¬¡ã€‚");
            }

            // é¥®é…’å»ºè®®
            if (formData.drink === "heavily" || formData.drink === "regularly") {
                suggestions.push("é¥®é…’æ§åˆ¶ï¼šç«‹å³æˆ’é…’ï¼Œé¿å…é…’ç²¾å¯¹è¡€ç®¡çš„æŒç»­æŸä¼¤ï¼›è‹¥æ— æ³•å®Œå…¨æˆ’é…’ï¼Œç”·æ€§æ¯æ—¥é…’ç²¾æ‘„å…¥é‡â‰¤25å…‹ï¼Œå¥³æ€§â‰¤15å…‹ï¼Œæ¯å‘¨è‡³å°‘æœ‰2å¤©ä¸é¥®é…’ã€‚");
            } else if (formData.drink === "occasionally") {
                suggestions.push("é¥®é…’æ§åˆ¶ï¼šå°½é‡å‡å°‘é¥®é…’é¢‘ç‡ï¼Œé¥®é…’æ—¶é¿å…ç©ºè…¹ï¼Œé¥®é…’ååŠæ—¶è¡¥å……æ°´åˆ†ã€‚");
            }

            // è¿åŠ¨å»ºè®®
            if (formData.exercise === "never" || formData.exercise === "rarely") {
                suggestions.push("è¿åŠ¨è®¡åˆ’ï¼šä»ä½å¼ºåº¦è¿åŠ¨å¼€å§‹ï¼ˆå¦‚å¿«èµ°ã€å¤ªææ‹³ã€å¹¿åœºèˆï¼‰ï¼Œæ¯å‘¨3-5æ¬¡ï¼Œæ¯æ¬¡30-45åˆ†é’Ÿï¼›1-2ä¸ªæœˆåå¯é€æ¸å¢åŠ å¼ºåº¦ï¼ˆå¦‚æ…¢è·‘ã€æ¸¸æ³³ã€éª‘è¡Œï¼‰ã€‚");
            } else if (formData.exercise === "occasionally") {
                suggestions.push("è¿åŠ¨è®¡åˆ’ï¼šå¢åŠ è¿åŠ¨é¢‘ç‡è‡³æ¯å‘¨4-5æ¬¡ï¼Œå»¶é•¿è¿åŠ¨æ—¶é—´è‡³æ¯æ¬¡30åˆ†é’Ÿä»¥ä¸Šï¼Œä¿è¯è¿åŠ¨å¼ºåº¦é€‚ä¸­ï¼ˆè¿åŠ¨æ—¶å¿ƒç‡=170-å¹´é¾„ï¼‰ã€‚");
            }

            // ä½œæ¯å»ºè®®
            if (formData.sleep === "poor") {
                suggestions.push("ä½œæ¯è°ƒæ•´ï¼šä¸¥æ ¼æ§åˆ¶ä½œæ¯ï¼Œæ¯æ™š11ç‚¹å‰å…¥ç¡ï¼Œä¿è¯7-8å°æ—¶ç¡çœ ï¼›ç¡å‰1å°æ—¶é¿å…ä½¿ç”¨ç”µå­äº§å“ï¼Œå¯é€šè¿‡æ³¡è„šã€å¬è½»éŸ³ä¹ç­‰æ–¹å¼åŠ©çœ ã€‚");
            } else if (formData.sleep === "irregular") {
                suggestions.push("ä½œæ¯è°ƒæ•´ï¼šé€æ­¥å›ºå®šç¡çœ æ—¶é—´ï¼Œå‡å°‘ç†¬å¤œé¢‘ç‡ï¼Œæ¯å‘¨ç†¬å¤œä¸è¶…è¿‡1æ¬¡ï¼Œä¿è¯æ¯æ—¥ç¡çœ æ—¶é—´ä¸ä½äº7å°æ—¶ã€‚");
            }

            // ä½“é‡å»ºè®®
            if (bmi >= 28) {
                suggestions.push("å‡é‡ç›®æ ‡ï¼š6-12ä¸ªæœˆå†…å‡é‡5%-10%ï¼Œé€šè¿‡æ§åˆ¶æ€»çƒ­é‡æ‘„å…¥ï¼ˆæ¯æ—¥å‡å°‘300-500åƒå¡ï¼‰å’Œå¢åŠ è¿åŠ¨é‡å®ç°ï¼Œé¿å…å¿«é€Ÿå‡é‡ã€‚");
            } else if (bmi >= 24) {
                suggestions.push("ä½“é‡æ§åˆ¶ï¼šç»´æŒæˆ–ç¼“æ…¢å‡é‡ï¼Œå°†BMIæ§åˆ¶åœ¨18.5-23.9ä¹‹é—´ï¼Œé¿å…ä½“é‡è¿›ä¸€æ­¥å¢åŠ ã€‚");
            }

            // ç—‡çŠ¶å¤„ç†å»ºè®®
            const symptoms = formData.symptoms.filter(sym => sym !== "none");
            if (symptoms.length > 0) {
                suggestions.push("ç—‡çŠ¶å¤„ç†ï¼šå‡ºç°å¤´ç—›ã€å¤´æ™•ç­‰ä¸é€‚æ—¶ï¼Œç«‹å³ä¼‘æ¯å¹¶æµ‹é‡è¡€å‹ï¼›è‹¥ç—‡çŠ¶é¢‘ç¹å‡ºç°æˆ–åŠ é‡ï¼ŒåŠæ—¶å°±åŒ»æ£€æŸ¥ï¼Œæ’é™¤é¶å™¨å®˜æŸä¼¤ã€‚");
            }

            // é—ä¼ å› ç´ å»ºè®®
            if (formData.family === "yes") {
                suggestions.push("é—ä¼ é£é™©åº”å¯¹ï¼šä»å¹´è½»æ—¶å»ºç«‹å¥åº·ç”Ÿæ´»æ–¹å¼ï¼Œå®šæœŸç›‘æµ‹è¡€å‹ï¼Œæ—©å‘ç°æ—©å¹²é¢„ï¼Œé™ä½é—ä¼ é£é™©çš„å½±å“ã€‚");
            }

            // å‹åŠ›ç®¡ç†å»ºè®®
            suggestions.push("å‹åŠ›è°ƒèŠ‚ï¼šä¿æŒè‰¯å¥½å¿ƒæ€ï¼Œé¿å…é•¿æœŸç²¾ç¥ç´§å¼ ï¼›å¯é€šè¿‡å†¥æƒ³ã€æ·±å‘¼å¸ã€å…´è¶£çˆ±å¥½ç­‰æ–¹å¼é‡Šæ”¾å‹åŠ›ï¼Œå‡å°‘æƒ…ç»ªæ³¢åŠ¨å¯¹è¡€å‹çš„å½±å“ã€‚");

            return suggestions;
        }

        // ä¸»è®¡ç®—å‡½æ•°ï¼ˆæ ¸å¿ƒä¿®å¤éªŒè¯é€»è¾‘ï¼‰
        function calculateResult() {
            // è·å–å½“å‰æ¿€æ´»çš„é€‰é¡¹å¡
            const activeTab = document.querySelector('.tab.active').getAttribute('data-tab');
            const useEstimate = activeTab === "estimate";

            // å­˜å‚¨ç¼ºå¤±çš„å­—æ®µä¿¡æ¯
            const missingFields = [];

            // è·å–è¡¨å•æ•°æ®å¹¶éªŒè¯
            const formData = {
                age: parseInt(document.getElementById("age").value),
                gender: document.querySelector('input[name="gender"]:checked')?.value,
                weight: parseFloat(document.getElementById("weight").value),
                height: parseInt(document.getElementById("height").value),
                diet: document.querySelector('input[name="diet"]:checked')?.value,
                drink: document.querySelector('input[name="drink"]:checked')?.value,
                exercise: document.querySelector('input[name="exercise"]:checked')?.value,
                sleep: document.querySelector('input[name="sleep"]:checked')?.value,
                family: document.querySelector('input[name="family"]:checked')?.value,
                symptoms: Array.from(document.querySelectorAll('input[name="symptom"]:checked')).map(item => item.value),
                useEstimate: useEstimate
            };

            // åŸºç¡€ä¿¡æ¯éªŒè¯
            if (isNaN(formData.age) || formData.age < 18) missingFields.push("å¹´é¾„ï¼ˆéœ€â‰¥18å²ï¼‰");
            if (!formData.gender) missingFields.push("æ€§åˆ«");
            if (isNaN(formData.weight) || formData.weight < 30) missingFields.push("ä½“é‡ï¼ˆéœ€â‰¥30kgï¼‰");
            if (isNaN(formData.height) || formData.height < 100) missingFields.push("èº«é«˜ï¼ˆéœ€â‰¥100cmï¼‰");
            if (!formData.diet) missingFields.push("é¥®é£Ÿä¹ æƒ¯");
            if (!formData.drink) missingFields.push("é¥®é…’æƒ…å†µ");
            if (!formData.exercise) missingFields.push("è¿åŠ¨æƒ…å†µ");
            if (!formData.sleep) missingFields.push("ä½œæ¯æƒ…å†µ");
            if (!formData.family) missingFields.push("å®¶æ—å²");
            
            // ç—‡çŠ¶éªŒè¯
            if (formData.symptoms.length === 0) {
                missingFields.push("ä¸é€‚ç—‡çŠ¶ï¼ˆè‡³å°‘é€‰æ‹©ä¸€é¡¹ï¼Œæ— ä¸é€‚è¯·å‹¾é€‰'æ— ä»»ä½•ä¸é€‚'ï¼‰");
            }

            // æ ¹æ®é€‰é¡¹å¡éªŒè¯è¡€å‹ç›¸å…³æ•°æ®
            if (useEstimate) {
                // å¿«é€Ÿä¼°ç®—æ¨¡å¼éªŒè¯
                formData.bpSigns = Array.from(document.querySelectorAll('input[name="bp-sign"]:checked')).map(item => item.value);
                formData.docBp = document.querySelector('input[name="doc-bp"]:checked')?.value;

                if (formData.bpSigns.length === 0) {
                    missingFields.push("è¡€å‹ç›¸å…³ç—‡çŠ¶ï¼ˆè‡³å°‘é€‰æ‹©ä¸€é¡¹ï¼Œæ— ç—‡çŠ¶è¯·å‹¾é€‰'æ— ä¸Šè¿°ä»»ä½•æƒ…å†µ'ï¼‰");
                }
                if (!formData.docBp) {
                    missingFields.push("åŒ»ç”ŸæåŠçš„è¡€å‹é—®é¢˜");
                }
            } else {
                // ç›´æ¥è¾“å…¥æ¨¡å¼éªŒè¯
                formData.systolic = parseInt(document.getElementById("systolic").value);
                formData.diastolic = parseInt(document.getElementById("diastolic").value);

                if (isNaN(formData.systolic) || formData.systolic < 80 || formData.systolic > 250) {
                    missingFields.push("æ”¶ç¼©å‹ï¼ˆéœ€åœ¨80-250ä¹‹é—´ï¼‰");
                }
                if (isNaN(formData.diastolic) || formData.diastolic < 40 || formData.diastolic > 150) {
                    missingFields.push("èˆ’å¼ å‹ï¼ˆéœ€åœ¨40-150ä¹‹é—´ï¼‰");
                }
            }

            // æ£€æŸ¥æ˜¯å¦æœ‰ç¼ºå¤±å­—æ®µ
            if (missingFields.length > 0) {
                alert(`è¯·è¡¥å……å®Œæ•´ä»¥ä¸‹å¿…å¡«ä¿¡æ¯ï¼š\n\n${missingFields.join('\n')}`);
                return;
            }

            // æ ¸å¿ƒè®¡ç®—
            const riskScoreObj = calculateRiskScore(formData);
            const riskFactors = analyzeRiskFactors(formData, riskScoreObj.bpResult);
            const currentStatus = evaluateCurrentStatus(riskScoreObj.score, riskScoreObj.bpResult, formData.symptoms, useEstimate);
            const trendPrediction = predictDevelopmentTrend(riskScoreObj.score, formData, useEstimate);
            const suggestions = generateSuggestions(formData, riskScoreObj.score, useEstimate);
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById("current-status").textContent = currentStatus;
            document.getElementById("trend-prediction").textContent = trendPrediction;
            
            // å¡«å……é£é™©å› ç´ åˆ—è¡¨
            const riskList = document.getElementById("risk-factors-list");
            riskList.innerHTML = "";
            riskFactors.forEach(factor => {
                const li = document.createElement("li");
                li.textContent = factor;
                riskList.appendChild(li);
            });
            
            // å¡«å……å»ºè®®åˆ—è¡¨
            const suggestList = document.getElementById("suggestions-list");
            suggestList.innerHTML = "";
            suggestions.forEach((suggest, index) => {
                const li = document.createElement("li");
                li.textContent = `${index + 1}. ${suggest}`;
                suggestList.appendChild(li);
            });
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸå¹¶æ»šåŠ¨
            document.getElementById("result").style.display = "block";
            document.getElementById("result").scrollIntoView({ behavior: "smooth" });
        }
    </script>
</body>
</html>